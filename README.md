# book-search
<pre>
В Elasticsearch добавлена книга "Война и Мир" и нарезана про строчкам. Общее количество документов 45697шт.
1. Добавлена возможность передавать аргумент с указанием количества слов в фразах. 
Запрос следующего вида localhost:8080/book/topPhrases/n , где n - количество слов.
2. Добавлен Scroll для получения больших данных из Elasticsearch
  конфигурации для запроса из Elastic:
  
  SearchResponse scrollResp = client.prepareSearch("books")
                .setFetchSource("text","row" )
                .setScroll(new TimeValue(6000))
                .setSize(10000).get();
                
3. Данные из Elasticsearch записываются сразу в HashMap
______________________________
Результат для n = 5:
{в то время как он =30, точно так же как и =12, в одно и то же =11, одно и то же время =11, 
и несмотря на то что =9, но в то же мгновение =7, несмотря на то что он =7, что бы было 
если бы =7, в то же мгновение как =7, см сноски в конце части =6, нет это не может быть =6, 
так же как и он =6, в то время как пьер =6, и в то время как =6, ах боже мой боже мой =6, 
в то время как они =5, в то время как она =5, это не могло быть иначе =5, и в то же мгновение =5, 
то же мгновение как он =5, то к тому то к =4,

Время выполнения для n=2 в браузере  : в среднем 5,3сек,  для n=5 : в среднем 9сек
                         в программе : в среднем 2сек,    для n=5 : в среднем 2сек
Размер файлов выкачиваемых при запросе для n=2 : 7,5Mb, для n=5 : 16Mb
</pre>
